// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Product {
    id Int @id
    startAt DateTime?
    endAt DateTime?
    regularPrice Int?
    promotionalPrice Int?
    title String?
    subTitle String?
    description String?
    imageUrl String?

    company Company @relation(fields: [id], references: [id])
    favoritedBy FavoriteProducts[]

    @@map("product")
}

model Company {
    id Int @id @default(autoincrement())
    name String

    address Address?
    products Product[]
    
    @@map("company")
}

model Address {
    id Int @id
    street String?
    district String?
    city String?
    state String?
    referencePoint String?
    number Int?
    zipCode String?

    company Company @relation(fields: [id], references: [id])
    
    @@map("address")
}

model User {
  id Int @id @default(autoincrement())
  email String @unique
  name String?
  password String?

  favoriteProducts FavoriteProducts[]

  @@map("user")
}

model FavoriteProducts {
  id Int @id @default(autoincrement())
  startAt DateTime?
  endAt DateTime?

  user User @relation(fields: [userId], references: [id])
  userId Int

  product Product @relation(fields: [productId], references: [id])
  productId Int

  @@map("favoriteProducts")
}